@{
    ViewData["Title"] = "Infra";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<link rel="stylesheet" href="//code.jquery.com/ui/1.13.0/themes/base/jquery-ui.css">
<link rel="stylesheet" href="https://cdn.datatables.net/1.11.3/css/dataTables.bootstrap5.min.css" />
@*<link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css" />*@
@*<link href="~/css/style.css" rel="stylesheet" />*@

<style>
    #infatmgId {
        transition: 0.6s all ease-in-out;
    }

        #infatmgId:hover {
            transform: scale(3.8);
        }
</style>

<div class="modal fade" id="imageModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Infra Image</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body" id="infraimage2">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
<div class="container-fluid main-wraper">
    <div class="shadow-box infraFormWraper">
        @* <div class="bg-danger w-100 p-1 mb-3">
        <marquee style="color:#fff; margin-bottom: 0px; font-size: 16px; font-weight: 600;" behavior="scroll" direction="left">Employee who has not recieved any Infra from Company, please select "OTHER" as Infra type and NA under serial number</marquee>
        </div>*@
        <div class="row">
            <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 cl-xs-12">
                <div class="input-group row mx-0 form-group input-group-sm">
                    <div class="col-5 p-0 input-group-prepend">
                        <span class="input-group-text w-100">Infra type<sup class="text-danger">*</sup></span>
                    </div>
                    <input id="infraType" type="text" class="form-control" placeholder="Infra type" />
                </div>
            </div>
            <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 cl-xs-12">
                <div class="input-group row mx-0 form-group input-group-sm">
                    <div class="col-5 p-0 input-group-prepend">
                        <span class="input-group-text w-100">Serial Number<sup class="text-danger">*</sup></span>
                    </div>
                    <input id="infraSerialNumber" type="text" class="form-control" placeholder="Serial Number" />
                </div>
            </div>
            @* <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 cl-xs-12">
            <div class="input-group row mx-0 form-group input-group-sm">
            <div class="col-5 p-0 input-group-prepend">
            <span class="input-group-text w-100">Service Tag No.<sup class="text-danger"></sup></span>
            </div>
            <input id="serviceTagNumber" type="text" class="form-control" placeholder="Service Tag No." />
            </div>
            </div>*@
            <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 cl-xs-12">
                <div class="input-group row mx-0 form-group input-group-sm">
                    <div class="col-5 p-0 input-group-prepend">
                        <span class="input-group-text w-100">Model No.<sup class="text-danger">*</sup></span>
                    </div>
                    <input type="text" class="col-7 p-0 pl-2 form-control" id="modelnumber" disabled placeholder="Model No.">
                </div>
            </div>
            <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 cl-xs-12">
                <div class="input-group row mx-0 form-group input-group-sm">
                    <div class="col-5 p-0 input-group-prepend">
                        <span class="input-group-text w-100">IMEI No.<sup class="text-danger">*</sup></span>
                    </div>
                    <input type="text" class="col-7 p-0 pl-2 form-control" id="imeinumber" disabled placeholder="IMEI No.">
                </div>
            </div>
            <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 cl-xs-12">
                <div class="input-group row mx-0 form-group input-group-sm">
                    <div class="col-5 p-0 input-group-prepend">
                        <span class="input-group-text w-100">Infra Status<sup class="text-danger">*</sup></span>
                    </div>
                    <select class="col-7 p-0 pl-2 form-control" id="infraStatus">
                        <option value="0">Select Status</option>
                        @*<option value="1">Ok</option>
                        <option value="2">Faulty</option>
                        <option value="3">Damage</option>
                        <option value="4">Dead</option>
                        <option value="5">NA</option>*@
                    </select>
                </div>
            </div>

            <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 cl-xs-12" id="imgdiv">
                <div class="input-group row mx-0 form-group input-group-sm">
                    <div class="col-5 p-0 input-group-prepend">
                        <span class="input-group-text w-100">Infra Image<sup class="text-danger"></sup></span>
                    </div>
                    <input type="file" id="infraimage" accept=".jpg, .jpeg, .png" style="line-height:20px; padding-top: 1px !important;" class="col-7 p-0 pl-2 form-control" placeholder="">
                </div>
            </div>
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 cl-xs-12">
                <div class="input-group row mx-0 form-group input-group-sm">
                    <div class="col-3 p-0 input-group-prepend">
                        <span class="input-group-text w-100">Remarks<sup class="text-danger"></sup></span>
                    </div>
                    <textarea class="col-9 p-0 pl-2 form-control" id="remarks" placeholder="" rows="2"></textarea>
                </div>
            </div>

            <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 cl-xs-6" id="dateinfra">
                <div class="input-group row mx-0 form-group input-group-sm">
                    <div class="col-0 p-0 input-group-prepend">
                        <span class="input-group-text">Date<sup class="text-danger"></sup></span>
                    </div>
                    <input type="text" class="col-7 p-0 pl-2 form-control" name="" autocomplete="off" disabled id="txtfromdate">
                </div>
            </div>

            @*<div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 cl-xs-6">
            <div class="input-group row mx-0 form-group input-group-sm">
            <div class="col-5 p-0 input-group-prepend">
            <span class="input-group-text w-100">Upload Excel<sup class="text-danger"></sup></span>
            </div>
            <input type="file" id="uploadexcel" style="line-height:20px; padding-top: 1px !important;" class="col-7 p-0 pl-2 form-control" placeholder="Upload Excel">
            </div>
            </div>*@
            <div class="col-12 mb-3 text-right">
                <input type="hidden" id="hdinfragrpid" name="hdinfragrpid" value="">
                <input type="hidden" id="hdinrecordid" name="hdinrecordid" value="">
                <input type="hidden" id="hdinfraid" name="hdinfraid" value="">

                <span class="text-success" id="msgsuccess"></span>
                <span class="text-danger" id="msgerror"></span>
                @*<a class="btn btn-sm btn-vilot" id="btnUploadExcel"><i class="fa fa-save mr-1"></i>Upload File</a>*@
                <a class="btn btn-sm btn-vilot" id="btnSaveInfra"><i class="fa fa-save mr-1"></i>Save Infra</a>
                @*<a href="#" class="btn btn-sm btn-vilot" id="btnAddInfra"><i class="fa fa-plus mr-1"></i>Add Infra</a>*@
            </div>
        </div>
    </div>
    <div class="shadow-box InfraTableWraper">
        <div class="row">
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="table-responsive">
                    <table class="table table-bordered mb-0 table-striped infraTable" id="infraTbaleth">
                        <thead class="bg-light table-sm">
                            <tr>
                                <th>#</th>
                                <th>EMPID</th>
                                <th>Infra Type</th>
                                <th>Serial Number</th>
                                <th>Model</th>
                                <th>Status</th>
                                <th>Remarks</th>
                                <th>Image</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="infraTbale">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div class="modal confirmation-popup C-popup-success fade" id="successModal" tabindex="-1" role="dialog" aria-labelledby="successModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <i class="fa fa-check confirmation-popup-icon" aria-hidden="true"></i>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <h5 id="txt" class="confirmation-popup-msg">Success</h5>
                </div>
                <div class="modal-footer text-center justify-content-center">
                    <button type="button" id="succ" class="btn confirmation-popup-btn" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal confirmation-popup C-popup-danger fade" id="dangerModal" tabindex="-1" role="dialog" aria-labelledby="successModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <i class="fa fa-close confirmation-popup-icon" aria-hidden="true"></i>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <h5 id="txterror" class="confirmation-popup-msg">Error</h5>

                </div>
                <div class="modal-footer text-center justify-content-center">
                    <button type="button" id="error" class="btn confirmation-popup-btn" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal confirmation-popup C-popup-warning fade" id="warningModal" tabindex="-1" role="dialog" aria-labelledby="successModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <i class="fa fa-exclamation-triangle confirmation-popup-icon" aria-hidden="true"></i>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <h5 id="txtwar" class="confirmation-popup-msg">Warning</h5>
                    <div class="col-xl-8 col-lg-8 col-md-8 col-sm-6 col-xs-12">
                        <div class="form-group text-center mb-0">
                            <div class="row text-danger m-0 mb-3" id="divMessage" style="width:400px;">
                            </div>
                            <span id="spanMessage" class="text-success"></span>
                        </div>
                    </div>
                </div>
                <div class="modal-footer text-center justify-content-center">
                    <button type="button" id="error" class="btn confirmation-popup-btn" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
</div>



@section layoutjs
    {
    <link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css" />
    <script src="https://code.jquery.com/ui/1.13.0/jquery-ui.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.2.3/js/bootstrap.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js" type="text/javascript"></script>
    <script src="https://code.jquery.com/jquery-migrate-3.0.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"></script>
    <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>


    <script src="~/js/Infra/Infra.js"></script>

    <script type="text/javascript">

        $("button[data-dismiss=modal]").click(function () {
            window.location.href = "../Infra/Infra";

            $(".modal").modal('hide');
            $("#msgerror").addClass('text-danger').html('');
            $("#msgsuccess").addClass('text-danger').html('');
            ('#successModal').on('hidden.bs.modal', function () {
                location.reload();
            });
        });
    </script>

}